{"version":3,"sources":["components/Person.js","components/Persons.js","components/FormPerson.js","components/FilterPersons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","handlerDelete","name","number","id","onClick","Persons","persons","map","e","FormPerson","addPerson","newName","newNumber","handleNewName","handleNewNumber","onSubmit","value","onChange","type","FilterPersons","filterName","setFindFilterName","console","log","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","typeMessage","messageClass","className","App","useState","setPersons","setNewName","setNewNumber","setFilterName","setMessage","setTypeMessage","useEffect","personServices","initialPersons","length","personsFind","filter","toUpperCase","indexOf","target","preventDefault","newPerson","findP","find","element","trim","window","confirm","personObject","p","setTimeout","catch","concat","setNewNameTel","setNewNumberTel","rest","per","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ac0f3d72.chunk.js","sourcesContent":["const Person=({person,handlerDelete})=>{\r\n    return(\r\n        <li>{person.name} {person.number} <button id={person.id} name={person.name} onClick={handlerDelete}>Delete</button> </li>\r\n    )\r\n}\r\n\r\nexport default Person","import Person from \"./Person\"\r\n\r\nconst Persons= ({persons,handlerDelete})=>{\r\n    return(\r\n        <ul>\r\n        {\r\n            persons.map(e=>\r\n            <Person key={e.id} person={e} handlerDelete={handlerDelete} />\r\n            )\r\n        }\r\n        </ul>        \r\n    )\r\n}\r\n\r\nexport default Persons","const FormPerson=({addPerson,newName,newNumber,handleNewName,handleNewNumber})=>{\r\n    \r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <div>name: <input value={newName} onChange={handleNewName} /></div>\r\n        <div>number: <input value={newNumber} onChange={handleNewNumber} /></div>\r\n        <div>\r\n          <button type=\"submit\" >add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default FormPerson","const FilterPersons=({persons,filterName,setFindFilterName})=>{\r\n    console.log(persons)\r\n    return(\r\n        <div>\r\n            filter show with: \r\n            <input value={filterName} onChange={setFindFilterName} />\r\n        </div>\r\n    )\r\n}\r\nexport default FilterPersons","import axios from 'axios'\r\nconst baseUrl = '/api/persons' //http://localhost:3001\r\n\r\nconst getAll=()=> axios.get(baseUrl).then(response=> response.data)\r\n\r\nconst create = newObject =>axios.post(baseUrl, newObject).then(response => response.data)\r\n\r\nconst remove = id => axios.delete(`${baseUrl}/${id}`).then(response => response.data)\r\n\r\nconst update= (id,person)=> axios.put(`${baseUrl}/${id}`,person).then(response => response.data)\r\n\r\n\r\nexport default{\r\n    getAll,\r\n    create,\r\n    remove,\r\n    update\r\n}","const Notification = ({ message,typeMessage }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    const messageClass=`message ${typeMessage}`\r\n    return (\r\n      <div className={messageClass}>\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState , useEffect } from 'react'\nimport Persons from './components/Persons'\nimport FormPerson from './components/FormPerson'\nimport FilterPersons from './components/FilterPersons'\nimport personServices from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterName, setFilterName ] = useState('')\n  const [message, setMessage] = useState(null)\n  const [typeMessage, setTypeMessage] = useState('exito')\n\n  useEffect(() => {\n    personServices.getAll().then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n\n  console.log('render', persons.length, 'persons')\n  \n  const setNewNameTel=(e)=>{\n    setNewName(e.target.value)\n  }\n\n  const setNewNumberTel=(e)=>{\n    setNewNumber(e.target.value)\n  }\n\n  const setFindFilterName=(e)=>{\n    setFilterName(e.target.value)\n  }\n\n  const addPerson=(e)=>{\n    e.preventDefault()\n    \n    const newPerson={\n      name:newName,\n      number:newNumber\n    }\n    //console.log('newPerson',newPerson)\n    //console.log('persons',persons)\n    const findP=persons.find(element=> element.name.trim().toUpperCase()===newPerson.name.trim().toUpperCase())\n    //console.log('filtrado',findP)\n    if(findP){\n        if(window.confirm(`${newPerson.name} is already added to phonebook, replace the old number with a new number`)){\n          //console.log('id',findP.id)\n          personServices.update(findP.id,newPerson)\n          .then(personObject=>{\n            //console.log('nuevo',newPerson)\n            setPersons(persons.map(p=> findP.id===p.id? personObject : p))\n            setMessage(`Person '${newPerson.name}' was updated.`)\n\n            \n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n            setNewName('')\n            setNewNumber('')  \n          })\n          .catch(e=>{\n            setTypeMessage('error')\n            console.log(`the Person '${newPerson.name}'  was already deleted from server.`)\n            setMessage(`the Person '${newPerson.name}'  was already deleted from server.`) \n            setTimeout(() => {\n              setMessage(null)\n            }, 5000) \n          })  \n        }\n        else {\n          setNewName('')\n          setNewNumber('')\n          return\n        }     \n    }\n    else {\n      personServices.create(newPerson)\n      .then(personObject=>{\n        setMessage(`Person '${newPerson.name}' was created.`)\n        setTypeMessage('exito')\n\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n\n        setPersons(persons.concat(personObject))\n        setNewName('')\n        setNewNumber('')  \n      })\n    }    \n  } //2.6 paso 1\n\n  const handleNewName=(e)=>{\n    setNewNameTel(e)\n  }\n  const handleNewNumber=(e)=>{\n    setNewNumberTel(e)\n  }\n\n  const handlerDelete=(e)=>{\n    e.preventDefault()\n    if(window.confirm(`Delete ${e.target.name}`)){\n      personServices.remove(e.target.id)\n      .then((response)=>{\n          console.log('entre',persons)\n          const rest=persons.filter(per=> per.id !== e.target.id )\n          setPersons(rest)\n          setTypeMessage('exito')\n          setMessage(`the Person '${e.target.name}' was deleted.`)\n\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        \n      })\n      .catch(e=>{\n        setTypeMessage('error')\n        //setMessage(`the Person '${e.target.name}' was already deleted from server.`)\n        setMessage(`the Person  was already deleted from server.`)      \n      })\n    }\n  }\n\n  const personsFind=filterName===''\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().indexOf(filterName.toUpperCase()) !== -1)\n    \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} typeMessage={typeMessage}/>\n      <FilterPersons persons={personsFind} filterName={filterName} setFindFilterName={setFindFilterName} />\n      \n      <h2>Add a New</h2>\n      <FormPerson persons={personsFind }  addPerson={addPerson} newName={newName} newNumber={newNumber} handleNewName={handleNewName} handleNewNumber={handleNewNumber}/>\n      <h2>Numbers</h2>\n      <Persons persons={personsFind} handlerDelete={handlerDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}