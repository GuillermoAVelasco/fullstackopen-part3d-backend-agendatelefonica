{"version":3,"sources":["components/Person.js","components/Persons.js","components/FormPerson.js","components/FilterPersons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","handlerDelete","name","number","id","onClick","Persons","persons","map","e","FormPerson","addPerson","newName","newNumber","handleNewName","handleNewNumber","onSubmit","value","onChange","type","FilterPersons","filterName","setFindFilterName","console","log","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","typeMessage","messageClass","className","App","useState","setPersons","setNewName","setNewNumber","setFilterName","setMessage","setTypeMessage","useEffect","personServices","initialPersons","length","personsFind","filter","toUpperCase","indexOf","target","preventDefault","newPerson","findP","find","element","trim","window","confirm","personObject","updatedPersons","p","parseInt","setTimeout","catch","concat","setNewNameTel","setNewNumberTel","rest","per","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b0834b8b.chunk.js","sourcesContent":["const Person=({person,handlerDelete})=>{\n    return(\n        <li>{person.name} {person.number} <button id={person.id} name={person.name} onClick={handlerDelete}>Delete</button> </li>\n    )\n}\n\nexport default Person","import Person from \"./Person\"\n\nconst Persons= ({persons,handlerDelete})=>{\n    return(\n        <ul>\n        {\n            persons.map(e=>\n            <Person key={e.id} person={e} handlerDelete={handlerDelete} />\n            )\n        }\n        </ul>        \n    )\n}\n\nexport default Persons","const FormPerson=({addPerson,newName,newNumber,handleNewName,handleNewNumber})=>{\n    \n    return (\n        <form onSubmit={addPerson}>\n        <div>name: <input value={newName} onChange={handleNewName} /></div>\n        <div>number: <input value={newNumber} onChange={handleNewNumber} /></div>\n        <div>\n          <button type=\"submit\" >add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default FormPerson","const FilterPersons=({persons,filterName,setFindFilterName})=>{\n    console.log(persons)\n    return(\n        <div>\n            filter show with: \n            <input value={filterName} onChange={setFindFilterName} />\n        </div>\n    )\n}\nexport default FilterPersons","import axios from 'axios'\nconst baseUrl = '/api/persons' //http://localhost:3001\n\nconst getAll=()=> axios.get(baseUrl).then(response=> response.data)\n\nconst create = newObject =>axios.post(baseUrl, newObject).then(response => response.data)\n\nconst remove = id => axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n\nconst update= (id,person)=> axios.put(`${baseUrl}/${id}`,person).then(response => response.data)\n\n\nexport default{\n    getAll,\n    create,\n    remove,\n    update\n}","const Notification = ({ message,typeMessage }) => {\n    if (message === null) {\n      return null\n    }\n  \n    const messageClass=`message ${typeMessage}`\n    return (\n      <div className={messageClass}>\n        {message}\n      </div>\n    )\n}\n\nexport default Notification","import React, { useState , useEffect } from 'react'\nimport Persons from './components/Persons'\nimport FormPerson from './components/FormPerson'\nimport FilterPersons from './components/FilterPersons'\nimport personServices from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterName, setFilterName ] = useState('')\n  const [message, setMessage] = useState(null)\n  const [typeMessage, setTypeMessage] = useState('exito')\n\n  useEffect(() => {\n    personServices.getAll().then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  console.log('render', persons.length, 'persons')\n  \n  const setNewNameTel=(e)=>{\n    setNewName(e.target.value)\n  }\n\n  const setNewNumberTel=(e)=>{\n    setNewNumber(e.target.value)\n  }\n\n  const setFindFilterName=(e)=>{\n    setFilterName(e.target.value)\n  }\n\n  const addPerson=(e)=>{\n    e.preventDefault()\n    \n    const newPerson={\n      name:newName,\n      number:newNumber\n    }\n    const findP=persons.find(element=> element.name.trim().toUpperCase()===newName.trim().toUpperCase())\n    console.log('filtrado',findP)\n    if(findP){\n        if(window.confirm(`${e.target.name} is already added to phonebook, replace the old number with a new number`)){\n          personServices.update(findP.id,newPerson)\n          .then(personObject=>{\n            const updatedPersons=persons.map(p=>{\n              if(parseInt(findP.id)===p.id){ return newPerson }\n              else return p\n            })\n            \n            setPersons(updatedPersons)\n            setMessage(`Person '${newPerson.name}' was updated.`)\n\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n            setNewName('')\n            setNewNumber('')  \n          })\n          .catch(e=>{\n            setTypeMessage('error')\n            console.log(`the Person '${newPerson.name}'  was already deleted from server.`)\n            setMessage(`the Person '${newPerson.name}'  was already deleted from server.`) \n            setTimeout(() => {\n              setMessage(null)\n            }, 5000) \n          })  \n        }\n        else {\n          setNewName('')\n          setNewNumber('')\n          return\n        }     \n    }\n    else {\n      personServices.create(newPerson)\n      .then(personObject=>{\n        setMessage(`Person '${newPerson.name}' was created.`)\n        setTypeMessage('exito')\n\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n\n        setPersons(persons.concat(personObject))\n        setNewName('')\n        setNewNumber('')  \n      })\n    }    \n  } //2.6 paso 1\n\n  const handleNewName=(e)=>{\n    setNewNameTel(e)\n  }\n  const handleNewNumber=(e)=>{\n    setNewNumberTel(e)\n  }\n\n  const handlerDelete=(e)=>{\n    e.preventDefault()\n    personServices.remove(e.target.id)\n    .then((response)=>{\n      if(window.confirm(`Delete ${e.target.name}`)){\n        const rest=persons.filter(per=>per.id!==parseInt(e.target.id))\n        setPersons(rest)\n        setTypeMessage('exito')\n        setMessage(`the Person '${e.target.name}' was deleted.`)\n\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      }\n    })\n    .catch(e=>{\n      setTypeMessage('error')\n      //setMessage(`the Person '${e.target.name}' was already deleted from server.`)\n      setMessage(`the Person  was already deleted from server.`)\n      \n    })\n  }\n\n  const personsFind=filterName===''\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().indexOf(filterName.toUpperCase()) !== -1)\n    \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} typeMessage={typeMessage}/>\n      <FilterPersons persons={personsFind} filterName={filterName} setFindFilterName={setFindFilterName} />\n      \n      <h2>Add a New</h2>\n      <FormPerson persons={personsFind }  addPerson={addPerson} newName={newName} newNumber={newNumber} handleNewName={handleNewName} handleNewNumber={handleNewNumber}/>\n      <h2>Numbers</h2>\n      <Persons persons={personsFind} handlerDelete={handlerDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}